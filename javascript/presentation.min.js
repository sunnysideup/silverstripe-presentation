jQuery("#hidden").css("visibility","hidden");
var ticker={fontSizeSamplingTime:30,selectedImage:0,imageLinkArray:[],imageObjectArray:[],textWithHTML:"",textWithoutHTML:"",delayPerLetter:7,timeSpentLoading:0,currentChar:1,manualImageChange:!1,resizeTimeout:null,maxHeight:0,hiddenDiv:null,fontSize:8,picChangeDelay:25E3,init:function(){ticker.currentChar=1;ticker.textWithHTML=ticker.textWithHTML.replace(/\s\s+/g," ");ticker.textWithoutHTML=ticker.stripHTML(ticker.textWithHTML);ticker.preloadNextImage();ticker.workOutBestFontSize();this.screenResizerSetup();
this.swapWithIframe()},preloadNextImage:function(){jQuery("img").click(function(){ticker.manualImageChange=!0;ticker.changePic(!0);ticker.manualImageChange=!1});var a=ticker.selectedImage+1;a>=ticker.imageLinkArray.length?a=0:(ticker.imageObjectArray[a]=new Image,ticker.imageObjectArray[a].src=ticker.imageLinkArray[a])},workOutBestFontSize:function(){ticker.timeSpentLoading+=ticker.fontSizeSamplingTime+10;0===ticker.maxHeight&&(ticker.maxHeight=parseFloat(jQuery("#message").height()),ticker.hiddenDiv=
jQuery("#hidden"),ticker.innerDiv=jQuery("#inner"),ticker.innerDiv.html("..."));var a=ticker.hiddenDiv.height();5<ticker.fontSizeSamplingTime&&ticker.fontSizeSamplingTime--;a<ticker.maxHeight?(ticker.fontSize+=.5,ticker.hiddenDiv.css("fontSize",ticker.fontSize+"px"),window.setTimeout(ticker.workOutBestFontSize,ticker.fontSizeSamplingTime)):(ticker.innerDiv.css("fontSize",ticker.fontSize+"px").css("display","block"),a=500-ticker.timeSpentLoading,10>a&&(a=10),ticker.startTicking(a))},startTicking:function(a){"number"!==
typeof a&&(a=0);window.setTimeout(function(){jQuery("#loading").fadeOut(function(){jQuery("#page").fadeIn(function(){ticker.type()})})},a)},screenResizerSetup:function(){jQuery(window).on("resize",function(){window.clearTimeout(ticker.resizeTimeout);ticker.resizeTimeout=window.setTimeout(function(){window.location=window.location},300)})},type:function(){var a=ticker.textWithoutHTML.substr(0,ticker.currentChar);ticker.innerDiv.html(a);ticker.currentChar++;ticker.currentChar>ticker.textWithoutHTML.length?
(ticker.innerDiv.html(ticker.textWithHTML),ticker.currentChar=1,jQuery("body").addClass("ticker-finished"),window.setTimeout(ticker.changePic,ticker.picChangeDelay)):window.setTimeout(ticker.type,ticker.delayPerLetter)},stripHTML:function(a){var b=document.createElement("DIV");b.innerHTML=a;return b.textContent||b.innerText||""},changePic:function(){ticker.selectedImage++;ticker.selectedImage>=ticker.imageLinkArray.length&&(ticker.selectedImage=0);var a=ticker.imageLinkArray[ticker.selectedImage];
jQuery("img").attr("src",a);jQuery("body").css("backgroundImage","url("+a+")");ticker.preloadNextImage();ticker.manualImageChange||window.setTimeout(ticker.changePic,ticker.picChangeDelay)},swapWithIframe:function(){jQuery("#current-site a").click(function(){jQuery("body").hasClass("showing-site")?jQuery("body").removeClass("showing-site").addClass("not-showing-site"):jQuery("body").addClass("showing-site").removeClass("not-showing-site");var a=jQuery(this).text();jQuery(this).text(jQuery(this).attr("data-alternative-text"));
jQuery(this).attr("data-alternative-text",a);return!1})}};jQuery(document).ready(function(){ticker.init()});
